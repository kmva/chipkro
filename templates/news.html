<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="../img/logo.png" type="image/png">
    
    <link href="https://fonts.googleapis.com/css2?family=Alegreya&family=Istok+Web&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/normalize.css">
    <link rel="stylesheet" href="../css/reset.css">
    <link rel="stylesheet" href="../css/sass/common.css">
    <link rel="stylesheet" href="../css/sass/style.css">
    <title>ИРО ЧР | Новости</title>

    <script src="https://kit.fontawesome.com/1f3a4be6e9.js" crossorigin="anonymous"></script>
</head>
<body>
    <header>
        <div class="container container--header">
            <div class="row row--header">
                <div class="logo">
                    <a href="../index.html"><img src="../img/logo.png" alt="Логотип ИРО ЧР"></a> 
                    <!-- <p class="logo__text">Чеченский институт повышения квалификации работников образования</p> -->
                </div>
                <button type="button" class="menu_btn" id="menu_btn">
                    <span></span>
</button>
                <nav class="main_nav">
                    <ul class="main_nav__items">
                        <li class="main_nav__item main_nav__item--parent"><a href="#" class="not_for_hover">Институт <i class="fas fa-caret-down"></i></a>
                            <ul class="main_nav_submenu">
                                <li class="main_nav_submenu__item"><a href="institiute/info/general_information.html">Основные сведения</a></li>
                                <li class="main_nav_submenu__item"><a href="institiute/history.html">История института</a></li>
                                <li class="main_nav_submenu__item"><a href="institiute/info/general_information.html">Сведения об образовательной организации</a></li>
                                <li class="main_nav_submenu__item"><a href="institiute/centers.html">Центры</a></li>
                                <li class="main_nav_submenu__item"><a href="institiute/council.html">Учёный совет</a></li>
                                <li class="main_nav_submenu__item"><a href="institiute/trade_union.html">Профсоюзная страничка</a></li>
                            </ul>
                        </li>
                        <li class="main_nav__item"><a href="news.html">Новости</a></li>
                        <li class="main_nav__item"><a href="webinars.html">Вебинары</a></li>
                        <li class="main_nav__item"><a href="monitoring.html">Мониторинг</a></li>
                        <li class="main_nav__item search">
                            <form method="GET" action="" class="search_form">
                                <input type="search" class="search__field" placeholder="Поиск...">
                                <button class="search__button">
                                    <i class="fas fa-search"></i> 
                                </button>
                            </form>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
    </header> 
   <div class="container container--with_aside">
    <nav class="breadcrumbs_nav">
        <ul class="breadcrumbs_nav__items">
            <li class="breadcrumbs_nav__item"><a href="../index.html"><i class="fas fa-home"></i></a></li>
            <li class="breadcrumbs_nav__item">Новости</li>
        </ul>
    </nav>
    <div class="row row--ne">
        <main class="with_aside">
            <h1>Новости</h1>
            <div class="news">
                <div class="news__block">
                    <img src="../img/аппо.png" alt="" class="news__image">
                    <div class="news__info">
                        <h3 class="news__heading"><a href="#">Специалисты ИРО ЧР приняли участие в&nbsp;презентации сборника "Литературно-географический атлас Чеченской Республики"</a></h3>
                        <p class="news__text">состоявшейся в&nbsp;актовом зале Национальной библиотеки ЧР им.&nbsp;А.Айдамирова 10 января 2019 года.</p>
                        <a href="" class="news__details">подробнее</a>
                        <p class="news__date">11.01.2019</p>
                    </div>
                </div>
                <div class="news__block">
                    <img src="../img/logo_large.png" alt="" class="news__image">
                    <div class="news__info">
                        <h3 class="news__heading"><a href="#">Специалисты ИРО ЧР приняли участие в&nbsp;презентации сборника "Литературно-географический атлас Чеченской Республики"</a></h3>
                        <p class="news__text">состоявшейся в&nbsp;актовом зале Национальной библиотеки ЧР им.&nbsp;А.Айдамирова 10 января 2019 года.</p>
                        <a href="" class="news__details">подробнее</a>
                        <p class="news__date">11.01.2019</p>
                    </div>
                </div>
                <div class="news__block">
                    <img src="../img/1.png" alt="" class="news__image">
                    <div class="news__info">
                        <h3 class="news__heading"><a href="#">Специалисты ИРО ЧР приняли участие в&nbsp;презентации сборника "Литературно-географический атлас Чеченской Республики"</a></h3>
                        <p class="news__text">состоявшейся в&nbsp;актовом зале Национальной библиотеки ЧР им.&nbsp;А.Айдамирова 10 января 2019 года.</p>
                        <a href="" class="news__details">подробнее</a>
                        <p class="news__date">11.01.2019</p>
                    </div>
                </div>
                <div class="news__block">
                    <img src="../img/100.jpeg" alt="" class="news__image">
                    <div class="news__info">
                        <h3 class="news__heading"><a href="#">Завершились курсы повышения квалификации по программе "Организация образовательной деятельности с применением дистанционных образовательных технологий"</a></h3>
                        <p class="news__text">состоявшейся в&nbsp;актовом зале Национальной библиотеки ЧР им.&nbsp;А.Айдамирова 10 января 2019 года.</p>
                        <a href="" class="news__details">подробнее</a>
                        <p class="news__date">11.01.2019</p>
                    </div>
                </div>
                <button class="more_news_button">Загрузить ещё новости</button>
        </div>
        <button class="scroll_to_top_button--hidden"><i class="fas fa-chevron-up"></i></button>
        </main>  
        <aside class="sidebar">
            <div class="popular_news">
                <h2>Популярные новости</h2>
                <div class="popular_news__block">
                    <a href=""><h3 class="popular_news__heading">Ежегодный конкурс <br>«Лучший учитель чеченского языка»</h3></a>
                </div>
                <div class="popular_news__block">
                    <a href=""><h3 class="popular_news__heading">Ежегодный конкурс <br>«Лучший учитель чеченского языка»</h3></a>
                </div>
                <div class="popular_news__block">
                    <a href=""><h3 class="popular_news__heading">Ежегодный конкурс <br>«Лучший учитель чеченского языка»</h3></a>
                </div>
            </div> 
        </aside>
    </div>
</div>
   
<footer class="footer">
    <div class="container">
         <div class="row row--footer">
             <div class="footer__block footer__block--contacts">
                 <h3 class="footer__heading">Контакты</h3>
                 <p>ГБУ ДПО "ИРО ЧР"</p>
                 <p>364037, Чеченская Республика</p>
                 <p><i class="fas fa-map-marker-alt"></i>г. Грозный, ул. Х. Кишиевой, 30 </p>
                 <p><a href="tel: +7(8712)212224"><i class="fas fa-phone-alt"></i>тел/факс +7 (8712) 21-22-24</a></p>
                 <p><a href="mailto: ipkro-chr@mail.ru"><i class="fas fa-envelope"></i>E-mail: ipkro-chr@mail.ru</a></p>
                 <p><a href="mailto: support@govzalla.ru"><i class="fas fa-envelope"></i>Техподдержка: support@govzalla.ru</a></p>
             </div>
             <div class="footer__block footer__block--social"> 
                 <h3 class="footer__heading">Мы в соцсетях</h3>
                 <div class="social">
                     <a href="https://www.youtube.com/channel/UC4JstR8NrXG0WcdtTWjRjrg"><i class="fab fa-youtube"></i></a>
                     <a href="https://www.instagram.com/gangaelmurzaeva/?hl=ru"><i class="fab fa-instagram"></i></a>
                     <a href="https://www.facebook.com/chipkro.official/"><i class="fab fa-facebook-square"></i></a>
                     <a href="https://vk.com/chipkro.official/"><i class="fab fa-vk"></i></a>
                 </div>
                 <div class="map">
                     <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1451.1557982884488!2d45.714425555915135!3d43.328668331348894!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x4051d14388e57381%3A0x44959ec660c956b!2z0YPQuy4g0JbRg9C60L7QstGB0LrQvtCz0L4sIDEw0LIsINCT0YDQvtC30L3Ri9C5LCDQp9C10YfQtdC90YHQutCw0Y8g0KDQtdGB0L8uLCAzNjQwMzE!5e0!3m2!1sru!2sru!4v1598518335565!5m2!1sru!2sru" width="100%" height="auto" frameborder="0" style="border:0;" allowfullscreen="" aria-hidden="false" tabindex="0"></iframe>
                 </div>
             </div>
             <div class="footer__block footer__block--links">
                 <h3 class="footer__heading">Учредитель</h3>
                 <a href="http://mon95.ru/">Министерство образования и науки Чеченской Республики</a>
                 <a href="#">Сведения об образовательной организации</a>
                 <a href="#">Карта сайта</a>
                 <a href="#">Наши партнеры</a>
             </div>    
         </div>
         <div class="institution">
             <div class="footer__logo"><img src="../img/logo-mono.png" alt=""></div>
             <div class="copyright">
                 <p>&copy; 2020 ГБУ ДПО Чеченский институт повышения квалификации работников образования.</p>
                 <p>Все права защищены. При использовании материалов сайта активная ссылка на сайт https://www.govzalla.ru обязательна.</p>
             </div>
         </div>
    </div>
</footer>
    <script type="text/javascript" src="../js/scripts.js"> </script>
    <script type="text/javascript">
        let moreNewsButton = document.querySelector('.more_news_button');
        let newsExemplar = document.querySelector('.news__block');

        let count = 4;
        let from = 0;
        moreNewsButton.addEventListener('click', event =>{
            let xhr = new XMLHttpRequest();
            let newsCount;

            //заменить запрос новостей из локального файла на запрос из БД
            xhr.open('GET', '../json/news.json', true);
            xhr.send();

            xhr.onload = () =>{

                if(xhr.status !== 200){
                    console.log(xhr.statusText);
                }

                let response = JSON.parse(xhr.responseText);
                newsCount = response.length;
                for(let i = from; i < count; i++){
                    let newPost =  newsExemplar.cloneNode(true);
                    newPost.querySelector('img').setAttribute('src', response[i].images[0]);
                    newPost.querySelector('.news__heading').innerHTML = response[i].title;
                    newPost.querySelector('.news__text').innerHTML = response[i].body;
                    newPost.querySelector('a').setAttribute('href', response[i].link);
                    newPost.querySelector('.news__date').innerHTML = response[i].date;
                    moreNewsButton.before(newPost);
                    newPost.style.opacity = '0';
                    
                    for(let i = 0; i < 10; i++){
                        setTimeout(()=> {newPost.style.opacity = 1 * Number(`0.${i}`)},
                        '50');
                    }
                }
                
                if (count === newsCount)
                {
                    moreNewsButton.setAttribute('disabled', 'true')
                } 
                else {
                    from = newsCount - from > 4 ? from + 4 : from;
                    count = newsCount - count > 4 ? count + 4 : count + (newsCount - count); 
                }
            }

            xhr.onerror = ()=> {
                console.log(this.statusText);
            }
        })
    </script>
</body>
</html>